# UMass STEM Discord Bot

Bot designed for the UMass STEM Discord server for memes and other server functionality.

**Bot Prefix**: Start a command with $ to use the bot

## Add to your server

[Invite bot to server](https://discordapp.com/api/oauth2/authorize?client_id=552254598279069708&permissions=1342179392&scope=bot)

## Commands
### Roles
- get [role]
  - The bot gives the specified role to the user
- remove [role]
  - The bot removes the specified role from the user (if they have it)
- getlist
  - Prints out an organized list of roles available with the get command
- myroles
  - Prints out the calling users roles organized by category
  
### Memes
- mdraw [image/image link/text]
    - The bot responds with an image of marius drawing whatever image or text is passed as the argument
- tdraw [image/image link/text]
    - The bot responds with an image of tim drawing whatever image or text is passed as the argument
- ldraw [image/image link/text]
    - The bot responds with an image of lan drawing whatever image or text is passed as the argument
- shelpoint [image/image link/text]
    - The bot responds with an image of Dan Sheldon pointing at whatever image or text is passed as the argument
- bdraw [image/image link/text]
    - The bot responds with an image of barrington drawing whatever image or text is passed as the argument

**Example of the $bdraw [text] generator**

[![bdraw example](https://i.gyazo.com/c598fe1f391e75f0207dc392332cd622.gif)](https://gyazo.com/c598fe1f391e75f0207dc392332cd622)

- barrify [image]
    - The bot uses computer vision to put the barr emote on peoples faces in the inputed image

**Example of the $barrify [image] meme generator**

[![barrify example](https://i.gyazo.com/8da3a10f6f2ff0b3e59f3535fad204c6.gif)](https://gyazo.com/8da3a10f6f2ff0b3e59f3535fad204c6)

- surprisedpikachu [image]
    - Similar to barrify the bot responds with the inputed image with surprised pikachu over identified faces
- marify [image]
    - Similar to barrify the bot responds with the inputed image with marius's face over the identified faces
- timify [image]
    - Similar to barrify the bot responds with the inputed image with tim's face over the indentified faces
- calebify [image]
    - Similar to barrify the bot responds with the inputed image with caleb's face over the indentified faces
- meme ["top" "bottom" image]
    - The bot responds with the inputed image with the specifed text on it in typical meme format
- intensify [factor image]
    - The bot responds with the inputed image exposed to the specified factor
- highlightEdges [image]
    - The bot responds with the inputed image with the highlighted edges filter
- customEdgeHighlight [red green blue image]
    - The bot responds with the inputed image with the custom highlighted edges filter
- erase
    - Deletes the most recent m/bdraw or barrify generated by the bot

### Other Commands
- members
    - Outputs the current number of members in the server

### Other functionality
- remove missing housing and major role
    - bot removes the missing housing and major role if someone has set both a housing and major role

## How to add to the bot
1. Fork repo
2. Install required dependencies
2. Write additional implementations
3. Create a bot on the [Discord Developer Portal](https://discordapp.com/developers/applications/)
4. Replace line 20 in *bot.py* `BOT_TOKEN = os.environ.get('BOT_TOKEN')` with `BOT_TOKEN = 'Put your bot token here'`
5. Invite your bot to a private test server
6. Test added bot commands
7. Once working make a pull request

## Dependencies
Please make sure to install these in the specified order.  Specifically, installing moviepy and imageio out of order will result in errors.
1. [discord.py](https://discordpy.readthedocs.io/en/latest/)
    - How to install: `pip install discord`
2. [moviepy](http://zulko.github.io/moviepy/)
    - How to install: `pip install moviepy`
3. [imageio](https://imageio.github.io/)
    - How to install: `pip install imageio==2.4.1`
4. [opencv](https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_tutorials.html)
    - How to install: `pip install opencv-python`





